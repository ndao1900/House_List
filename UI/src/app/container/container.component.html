<mat-card class="container" (click)="onClick()">
  <mat-card-header class="container-hdr">
    <mat-card-title>{{container.name}}</mat-card-title>
  </mat-card-header>
  <input mat-input [(ngModel)]="itemSearchTerm" placeholder="search..." (click)="$event.stopPropagation()"/>
  <mat-card-content>
    <div [ngClass]="{'editable-item': editable, 'selected-item': selectedItems[itemObj.value._id]}" 
    *ngFor="let itemObj of container.items | keyvalue">
      <app-item *ngIf="itemObj.value.name.includes(itemSearchTerm.toLowerCase())" [item]="itemObj.value"
        (contextmenu)="onItemRightClick($event,itemObj.value)"
        (mousedown)="onItemMouseDown($event,itemObj.value)"
        (mouseup)="onItemMouseUp($event,itemObj.value)"></app-item>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button *ngIf="availableActions[ContainerActionsEnum.ADD]" mat-button (click)="onAddClick()">Add</button>
    <button *ngIf="availableActions[ContainerActionsEnum.REMOVE]" mat-button (click)="onRemovedClick()">Remove</button>
    <button *ngIf="availableActions[ContainerActionsEnum.EDIT]" mat-button (click)="onEditClick()">Edit</button>
    <button *ngIf="availableActions[ContainerActionsEnum.CONFIRM]" mat-button (click)="onConfirmClick()">Confirm</button>
  </mat-card-actions>
</mat-card>

<app-item-context-menu id="ItemContextMenu" *ngIf="showItemContextMenu" [availableOptions]="availableContextMenuOption"
  [position]="itemContextMenuPosition" 
  (onOptionSelect)="onItemContextMenuOptionSelect($event)" (onOutsideClick)="hideContextMenu()">
</app-item-context-menu>